# Vocabulary Validation Reports

SHACL validation results for all vocabularies in `data/vocabs/`, validated against the [Suncorp Vocab Validator](../vocabs.ttl) (VocPub profile).

> Reports are regenerated by `pnpm validate` or the **Validate Vocabularies** GitHub Action.

---

## Dashboard

| Vocabulary | Status | Violations | Warnings | Tests | Reports |
|------------|--------|:----------:|:--------:|:-----:|---------|
| **ANZIC2006 Industry Classifications** | :red_circle: Non-conformant | 300 | 0 | 8/8 pass | [Validation](./ANZIC2006-industry-classifications-validation-report.md) · [Tests](./ANZIC2006-industry-classifications-validation-tests-output.md) · [AI Remediation](./ANZIC2006-industry-classifications-ai-report.md) |
| **Brands** | :red_circle: Non-conformant | 16 | 0 | 22/22 pass | [Validation](./brands-validation-report.md) · [Tests](./brands-validation-tests-output.md) · [AI Remediation](./brands-ai-report.md) |
| **Alteration Form** | :red_circle: Non-conformant | 27 | 0 | — | [Validation](./alteration-form-validation-report.md) · [AI Remediation](./alteration-form-ai-report.md) |

---

## Report Types

### Validation Report (`*-validation-report.md`)

Current conformance status of the source TTL file. Shows violations grouped by category, affected nodes, and the SHACL shape that triggered each finding.

### Test Output (`*-validation-tests-output.md`)

Results from running SHACL test fixtures — minimal TTL files that each target a single validator shape. Valid files should conform; invalid files should produce exactly one violation. Confirms the validator is working as expected.

### AI Remediation Report (`*-ai-report.md`)

AI-generated remediation guidance. For each violation category, provides either:
- Raw TTL triples to correct the issue
- A Python (rdflib) script for bulk fixes
- A description of what's needed when automated fixes aren't possible

Generated via `pnpm ai-assess` using a Cloudflare Workers AI endpoint.

---

## Common Violations

The most frequent issues across all vocabularies:

| Issue | Vocabs affected | Fix |
|-------|:--------------:|-----|
| Missing `schema:temporalCoverage` on Concepts | All 3 | Add `schema:temporalCoverage [ schema:startTime "..."^^xsd:date ]` to each Concept |
| `dcterms:` used instead of `schema:` for dates/creator | ANZIC, Alteration Form | Replace `dcterms:created` with `schema:dateCreated`, etc. |
| Language-tagged strings (`"..."@en`) instead of plain strings | ANZIC, Alteration Form | Remove `@en` tags — validator requires `xsd:string` |
| Missing `schema:url` / `schema:email` on Agents | Brands | Add contact info to Organization/Person nodes |

---

## Running Locally

```bash
# Run SHACL validation and regenerate all reports
pnpm validate

# Run AI assessment (requires .env with AI_WORKER_URL)
pnpm ai-assess
```

## GitHub Actions

- **Validate Vocabularies** — manual trigger, runs `pnpm validate`, commits updated reports
- **AI Assess Vocabularies** — manual trigger, runs validation then AI assessment, commits all reports
