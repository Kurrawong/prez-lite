@prefix prof: <http://www.w3.org/ns/dx/prof/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix prez: <https://prez.dev/> .
@prefix altr-ext: <http://www.w3.org/ns/dx/connegp/altr-ext#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

# =============================================================================
# GGIC Vocabularies Catalog Configuration
# =============================================================================

<https://vocabs.ga.gov.au/catalogue/ggic-vocabs> a prez:Catalog ;
    dcterms:identifier "catalogue:ggic-vocabs"^^xsd:token ;
    dcterms:title "GGIC Vocabularies" ;
    dcterms:description """Geoscience and Geological Surveys of Australia (GGIC) vocabularies of controlled terms.

GGIC uses domain standards that are openly available, to provide a common language for communicating ideas and provide consistency of meaning of the data collected, research undertaken and products created.""" .

# =============================================================================
# OGC Concept Scheme Object Profile
# Profile for rendering individual SKOS Concept Schemes (vocabularies)
# =============================================================================

prez:OGCSchemesObjectProfile a prof:Profile, sh:NodeShape, prez:ObjectProfile ;
    dcterms:identifier "ogc-schemes-object"^^xsd:token ;
    dcterms:title "OGC Concept Scheme Object Profile" ;
    dcterms:description "A profile for SKOS Concept Schemes" ;
    
    # Target class this profile applies to
    sh:targetClass skos:ConceptScheme ;
    altr-ext:constrainsClass skos:ConceptScheme ;
    
    # Supported output formats
    altr-ext:hasDefaultResourceFormat "text/anot-turtle" ;
    altr-ext:hasResourceFormat "text/anot-turtle" ;
    altr-ext:hasResourceFormat "application/anot-ld-json" ;
    altr-ext:hasResourceFormat "application/ld+json" ;
    altr-ext:hasResourceFormat "application/rdf+xml" ;
    altr-ext:hasResourceFormat "text/turtle" ;
    altr-ext:hasResourceFormat "text/csv" ;
    altr-ext:hasResourceFormat "application/json" ;
    altr-ext:hasResourceFormat "text/html" ;
    
    # Property shapes defining source predicates for prez annotations
    prez:labelSource skos:prefLabel, dcterms:title, rdfs:label ;
    prez:descriptionSource skos:definition, dcterms:description ;
    prez:provenanceSource dcterms:provenance ;
    
    # Prez-specific annotations to generate
    prez:generateIdentifier true ;
    prez:generateLink true ;
    prez:generateMembers true ;
    prez:generateLabel true ;
    prez:generateDescription true ;
    prez:generateProvenance true ;
    prez:generateFocusNode true ;
    
    # Link templates
    prez:linkTemplate "/catalogs/{catalogId}/collections/{schemeId}" ;
    prez:membersTemplate "/catalogs/{catalogId}/collections/{schemeId}/items" .

# =============================================================================
# OGC Item Profile
# Profile for rendering individual SKOS Concepts
# =============================================================================

prez:OGCItemProfile a prof:Profile, sh:NodeShape, prez:ObjectProfile ;
    dcterms:identifier "ogc-item"^^xsd:token ;
    dcterms:title "OGC Object Profile" ;
    dcterms:description "A profile for individual OGC Records API items" ;
    
    # Target class this profile applies to
    sh:targetClass skos:Concept ;
    altr-ext:constrainsClass skos:Concept ;
    
    # Supported output formats
    altr-ext:hasDefaultResourceFormat "text/anot-turtle" ;
    altr-ext:hasResourceFormat "text/anot-turtle" ;
    altr-ext:hasResourceFormat "application/anot-ld-json" ;
    altr-ext:hasResourceFormat "application/ld+json" ;
    altr-ext:hasResourceFormat "application/rdf+xml" ;
    altr-ext:hasResourceFormat "text/turtle" ;
    altr-ext:hasResourceFormat "text/html" ;
    
    # Property shapes defining source predicates for prez annotations
    prez:labelSource skos:prefLabel, dcterms:title, rdfs:label ;
    prez:descriptionSource skos:definition, dcterms:description ;
    
    # Prez-specific annotations to generate
    prez:generateIdentifier true ;
    prez:generateLink true ;
    prez:generateMembers false ;
    prez:generateLabel true ;
    prez:generateDescription true ;
    prez:generateProvenance false ;
    prez:generateFocusNode true ;
    
    # Link template
    prez:linkTemplate "/catalogs/{catalogId}/collections/{schemeId}/items/{conceptId}" .

# =============================================================================
# Umbrella Profile
# Defines default profiles for different resource types
# =============================================================================

prez:GGICVocabsProfile a prof:Profile ;
    dcterms:identifier "ggic-vocabs"^^xsd:token ;
    dcterms:title "GGIC Vocabularies Profile" ;
    dcterms:description "Profile configuration for GGIC vocabularies" ;
    
    # Associated catalog
    prez:catalog <https://vocabs.ga.gov.au/catalogue/ggic-vocabs> ;
    
    altr-ext:hasDefaultResourceFormat "text/anot-turtle" ;
    
    # Define default profiles for each resource type
    altr-ext:hasNodeShape [
        a sh:NodeShape ;
        sh:targetClass skos:ConceptScheme ;
        altr-ext:hasDefaultProfile prez:OGCSchemesObjectProfile
    ] ;
    altr-ext:hasNodeShape [
        a sh:NodeShape ;
        sh:targetClass skos:Concept ;
        altr-ext:hasDefaultProfile prez:OGCItemProfile
    ] .
